{% load i18n %}

{% with url_name=request.resolver_match.url_name %}

  {% if request.session.session_obj.vocab_entry %}

    <a href="{% url 'vocab:vocab_entries' %}">{% trans 'label_vocabulary' %}</a>

    {% if url_name == 'vocab_entry' %}

      &nbsp;>&nbsp;
      <span>{{ vocab_entry.entry }}</span>

    {% else %}

      &nbsp;>&nbsp;
      <a href="{% url 'vocab:vocab_entry' vocab_entry.language vocab_entry.slug %}">{{ vocab_entry.entry }}</a>

    {% endif %}

  {% elif request.session.session_obj.vocab_project %}

    <a href="{% url 'vocab:vocab_projects' %}">{% trans 'label_projects' %}</a>

    {% if url_name == 'vocab_project_dashboard' %}
   
      &nbsp;>&nbsp;
      <span> {{ vocab_project.name }} </span>
  
    {% else %}

      &nbsp;>&nbsp;
      <a href="{% url 'vocab:vocab_project_dashboard' vocab_project.id vocab_project.slug %}">
      {{ vocab_project.name }}
      </a>

    {% endif %}

  {% elif request.session.session_obj.vocab_source %}
    <a href="{% url 'vocab:vocab_sources' %}">{% trans 'label_sources' %}</a>

    {% if url_name == 'vocab_source_dashboard' %}
   
      &nbsp;>&nbsp;
      <span> {{ vocab_source.name }} </span>
  
    {% else %}

      &nbsp;>&nbsp;
      <a href="{% url 'vocab:vocab_source_dashboard' vocab_source.id vocab_source.slug %}">{{ vocab_source.name }}</a>

      {% if vocab_entry %}

        &nbsp;>&nbsp;
        <span> {{ vocab_entry }} </span>

      {% endif %}

    {% endif %}

  {% else %}

    {% if url_name != 'vocab_entries' and url_name != 'vocab_sources' and url_name != 'vocab_projects' %}

      <a href="{% url 'vocab:vocab_entries' %}">{% trans 'label_vocabulary' %}</a>

    {% endif %}

  {% endif %}

{% endwith %}