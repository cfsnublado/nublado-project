{% extends "includes/_modal_base.html" %}
{% load i18n %}

{% block modal_header %}

<h4 class="text-center">{% trans "label_create_context" %}</h4>

{% endblock modal_header %}

{% block modal_body %}

<div id="vocab-entry-create-modal-content">

<context-form 
:reset="!isOpen" 
@ajax-success="close" 
@ajax-process="modalEnabled = false" 
@ajax-complete="modalEnabled = true" 
inline-template
>

<div id="entry-model-form">

<form 
id="vocab-context-create-form" 
method="post" 
action="" 
novalidate 
@submit.prevent="onSubmit"
>

<div id="__all__-errors" class="errors"></div>

<div class="form-group row">
<div class="col-sm-12">

<textarea 
id="content"
class="form-control"
name="content" 
cols="40" 
rows="6"
placeholder="{% trans 'placeholder_vocab_context' %}"
v-model="formData.content"
>
</textarea>

<div id="content-errors" class="errors">

<form-error v-if="errors.content" :errors="errors">
<li v-for="message in errors.content.message">
[[ message ]]
</li>
</form-error>

</div>
</div>
</div>

</form>

</div>

</context-form>

</div>

{% endblock modal_body %}

{% block modal_footer %}

<a 
href="#"
id="vocab-entry-create-close-btn"
class="ui small basic button"
@click.prevent="close"
>
{% trans "label_cancel" %}
</a>

<button
id="vocab-context-create-submit-btn" 
v-bind:class="[{ loading: !modalEnabled }, 'ui small green button']"
type="submit"
form="vocab-context-create-form"
:disabled="!modalEnabled"
>
{% trans "label_create" %}
</button>

{% endblock modal_footer %}