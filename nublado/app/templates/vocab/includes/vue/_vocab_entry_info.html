{% load i18n %}

<vocab-entry-info 
endpoint-url="{{ vocab_entry_info_url }}"
inline-template
>

<div style="margin-top: 10px; margin-bottom: 20px;" v-cloak>
  <a 
  href="#" 
  class="button"
  @click.prevent="toggleVisible"
  >

  <span v-if="!vocabEntryInfoVisible"> 
  {% trans "label_show_details" %}
  </span>

  <span v-else> 
  {% trans "label_hide_details" %}
  </span>

  </a>

  <div 
  class="vocab-entry-info"
  v-show="vocabEntryInfoVisible"
  >

  <span v-show="processing"><i class="fas fa-spinner fa-pulse"></i></span>

  <div 
  class="box"
  v-if="vocabEntryInfoLoaded && vocabEntryInfo.lexicalEntries.length > 0"
  v-cloak
  >

  <ul 
  id="vocab-entry-info"
  >
    <li 
      v-for="lexicalEntry in vocabEntryInfo.lexicalEntries"
    >
      <span class="vocab-lexical-category">
      [[ lexicalEntry.lexicalCategory ]]
      </span>
      &nbsp;

      <span
        v-for="(ipaPronunciation, index) in lexicalEntry.pronunciations.ipa"
      >
      <span 
      v-if="ipaPronunciation.phoneticSpelling"
      class="vocab-pronunciation"
      >
      [ [[ ipaPronunciation.phoneticSpelling ]] ]
      </span>
      <vocab-pronunciation-audio 
      v-if="ipaPronunciation.audioFile"
      :init-audio-id="'marginSizes' + index"
      :init-sound-file="ipaPronunciation.audioFile"
      >
      </vocab-pronunciation-audio>
      &nbsp;
      </span>

      <div class="vocab-definitions">
      <ul>
        <li v-for="def in lexicalEntry.definitions">
          <p class="vocab-definition-text">
           &#8226; [[ def ]]
          </p>
        </li>
      </ul>
      </div>

    </li>

  </ul>

  </div>

  <div v-if="!processing && hasError">
  {% trans "msg_no_vocab_info" %}
  </div>

  </div>

</div>

</vocab-entry-info>