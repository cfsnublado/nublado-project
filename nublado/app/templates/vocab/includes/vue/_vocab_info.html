{% load i18n %}

<entry-info 
init-endpoint-url="{{ definitions_url }}"
init-msg-show-definitions="{% trans 'label_show_definitions' %}"
init-msg-hide-definitions="{% trans 'label_hide_definitions' %}"
inline-template
>

<div style="margin-top: 10px;">
  <a 
  href="#" 
  class="ui small button"
  @click.prevent="toggleDefinitionsVisible"
  >
  <span v-if="!definitionsVisible"> 
  [[ msgShowDefinitions ]]
  </span>
  <span v-else> 
  [[ msgHideDefinitions ]]
  </span>
  </a>

  <div class="vocab-definitions">

  <span v-show="processing"><i class="fas fa-spin fa-spinner"></i></span>

  <ul 
  id="vocab-definitions"
  v-show="definitionsVisible"
  v-cloak
  >
    <li 
      v-for="(value, key) in definitions"
    >
      <h3> [[ key ]] </h3>
      <ul>
        <li v-for="def in value">
          <p>
          &mdash; [[ def.definition ]]
          </p>
        </li>
      </ul>

    </li>

  </ul>

  <div
  v-show="definitionsVisible && Object.keys(definitions).length == 0 && definitionsLoaded"
  v-cloak
  >
  {% trans 'message_no_vocab_definitions' %}
  </div>

  </div>

</div>

</entry-info>