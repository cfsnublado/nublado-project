{% load i18n %}

<entry-info 
init-endpoint-url="{{ vocab_entry_info_url }}"
init-msg-show-entry-info="{% trans 'label_show_details' %}"
init-msg-hide-entry-info="{% trans 'label_hide_details' %}"
inline-template
>

<div style="margin-top: 10px;">
  <a 
  href="#" 
  class="ui small button"
  @click.prevent="toggleEntryInfoVisible"
  >

  <span v-if="!entryInfoVisible" v-cloak> 
  [[ msgShowEntryInfo ]]
  </span>

  <span v-else v-cloak> 
  [[ msgHideEntryInfo ]]
  </span>

  </a>

  <div 
  class="vocab-entry-info"
  v-show="entryInfoVisible"
  >

  <span v-show="processing"><i class="fas fa-spin fa-spinner"></i></span>

  <div 
  class="panel"
  v-show="entryInfoLoaded && entryInfo.lexicalEntries.length > 0"
  v-cloak
  >
  <div class="panel-body">

  <ul 
  id="vocab-entry-info"
  >
    <li 
      v-for="lexicalEntry in entryInfo.lexicalEntries"
    >
      <span class="vocab-lexical-category"> [[ lexicalEntry.lexicalCategory ]] </span>
      &nbsp;

      <span
        v-for="(ipaPronunciation, index) in lexicalEntry.pronunciations.ipa"
      >
      <span 
      v-if="ipaPronunciation.phoneticSpelling"
      class="vocab-pronunciation"
      >
      [ [[ ipaPronunciation.phoneticSpelling ]] ]
      </span>
      <audio-player 
      v-if="ipaPronunciation.audioFile"
      :init-audio-id="'marginSizes' + index"
      :init-sound-file="ipaPronunciation.audioFile"
      >
      </audio-player>
      &nbsp;
      </span>

      <div class="vocab-definitions">
      <ul>
        <li v-for="def in lexicalEntry.definitions">
          <p class="vocab-definition-text">
           &#8226; [[ def ]]
          </p>
        </li>
      </ul>
      </div>

    </li>

  </ul>

  </div>
  </div>

  </div>

</div>

</entry-info>