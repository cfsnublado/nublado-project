{% extends "base.html" %}
{% load staticfiles %}
{% load core_extras %}
{% load i18n %}

{% block sidebar_nav_items %}

{% if request.session.session_obj.vocab_project %}

  <li class="nav-list-header">
  <span> {% trans "label_project" %} </span>
  </li>

  <li class="nav-list-header-title">
  <a 
  id="sidebar-nav-vocab-project-name"
  href="{% url 'vocab:vocab_project_dashboard' vocab_project.id vocab_project.slug %}">
  <span id="menu-vocab-project-name"> {{ vocab_project.name }} </span>
  </a>
  </li>

  <li class="divider"></li>

  {% if vocab_project.owner_id == user.id %}

    <li class="nav-item">
    <a
    id="sidebar-nav-vocab-project-edit"
    class="nav-link {% block vocab_project_edit_link_active %}{% endblock vocab_project_edit_link_active %}"
    href="{% url 'vocab:vocab_project_update' vocab_project.id vocab_project.slug %}">
    <i class="nav-link-icon fas fa-edit fa-fw"></i> {% trans "label_edit_project" %}
    </a>
    </li>

    <li class="divider"></li>

  {% endif %}

{% elif request.session.session_obj.vocab_source %}

  <li class="nav-list-header">
  <span> {% trans "label_source" %} </span>
  </li>

  <li class="nav-list-header-title">
  <a 
  id="sidebar-nav-vocab-source-name"
  href="{% url 'vocab:vocab_source_dashboard' vocab_source.id vocab_source.slug %}">
  <span id="menu-vocab-source-name"> {{ vocab_source.name }} </span>
  </a>
  </li>

  <li class="nav-item">
  <a 
  id="sidebar-nav-vocab-source-entries"
  class="nav-link {% block vocab_source_entries_link_active %}{% endblock vocab_source_entries_link_active %}"
  href="{% url 'vocab:vocab_source_entries' vocab_source.id vocab_source.slug %}"
  >
  <i class="nav-link-icon fas fa-language fa-fw"></i> {% trans "label_vocabulary" %}
  </a>
  </li>

  <li class="nav-item">
  <a 
  id="sidebar-nav-vocab-source-contexts"
  class="nav-link {% block vocab_source_contexts_link_active %}{% endblock vocab_source_contexts_link_active %}"
  href="{% url 'vocab:vocab_source_contexts' vocab_source.id vocab_source.slug %}"
  >
  <i class="nav-link-icon fas fa-book fa-fw"></i> {% trans "label_contexts" %}
  </a>
  </li>

  <li class="divider"></li>

  {% if source_admin %}

    <li class="nav-item">
    <a
    id="sidebar-nav-vocab-source-edit"
    class="nav-link {% block vocab_source_edit_link_active %}{% endblock vocab_source_edit_link_active %}
"
    href="{% url 'vocab:vocab_source_update' vocab_source.id vocab_source.slug %}">
    <i class="nav-link-icon fas fa-edit fa-fw"></i> {% trans "label_edit_source" %}
    </a>
    </li>

    <li class="nav-item">
    <a 
    id="sidebar-nav-vocab-context-create" 
    class="nav-link {% block vocab_context_create_link_active %}{% endblock vocab_context_create_link_active %}" 
    href="{% url 'vocab:vocab_context_create' vocab_source.id vocab_source.slug %}"
    >
    <i class="nav-link-icon fas fa-plus fa-fw"></i> {% trans "label_new_vocab_context" %}
    </a>
    </li>

    <li class="divider"></li>

  {% endif %}

{% endif %}

{{ block.super }}

{% if user.is_admin %}

  <li class="divider"></li>

  <li class="nav-item">

  <a
  id="sidebar-nav-vocab-entry-create" 
  class="nav-link {% block vocab_entry_create_link_active %}{% endblock vocab_entry_create_link_active %}" 
  href="{% url 'vocab:vocab_entry_create' %}"
  >
  <i class="nav-link-icon fas fa-plus fa-fw"></i>
  {% trans "label_new_vocab_entry" %}
  </a>

  </li>

{% endif %}

{% endblock sidebar_nav_items %}

{% block body_classes %}

sidebar-adaptable theme-white {{ sidebar_expanded|yesno:"sidebar-nav-expanded," }}

{% endblock body_classes %}

{% block body %}
<div id="main-content" class="main-content container" style="margin-top: 20px;">

{% block page_header %}

{% if request.session.session_obj.vocab_project %}

  <div class="row justify-content-md-center">
  <div class="col-md-10">

  <div class="small-caps-header"> {% trans 'header_project' %} </div>
  <div class="page-header"> {{ vocab_project.name }} </div>

  </div>
  </div>

{% elif request.session.session_obj.vocab_source %}

  <div class="row justify-content-md-center">
  <div class="col-md-10">

  <div class="small-caps-header"> {% trans 'header_source' %} </div>
  <div class="page-header"> {{ vocab_source.name }} </div>

  </div>
  </div>

{% elif request.session.session_obj.vocab_entry %}

  <div class="row justify-content-md-center">
  <div class="col-md-10">

  <div class="small-caps-header"> {% trans 'header_vocab_entry' %} </div>

  </div>
  </div>

{% endif %}

{% endblock page_header %}

{% block breadcrumbs %}

<div class="row justify-content-md-center">
<div class="col-md-10">

<div class="breadcrumbs" style="margin-top: 20px; margin-bottom: 20px;">
{% block breadcrumb_content %}

{% include "vocab/includes/_vocab_breadcrumbs.html" %}

{% endblock breadcrumb_content %}
</div>

</div>
</div>

{% endblock breadcrumbs %}

{% block content %}{% endblock content %}

</div>
{% endblock body %}

{% block page_footer %}{% endblock page_footer %}

{% block python_to_javascript %}

var initSidebarSessionEnabled = true;
var sidebarExpanded = {{ sidebar_expanded|yesno:"true,false" }};
var appSessionUrl = "{% url 'app:app_session' %}";

{% endblock python_to_javascript %}

